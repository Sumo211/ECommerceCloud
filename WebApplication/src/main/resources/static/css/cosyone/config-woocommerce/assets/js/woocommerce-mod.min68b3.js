!function(a,b){a.cosyone_woocommerce_mod=a.cosyone_woocommerce_mod||{},a.cosyone_core_helpers=a.cosyone_core_helpers||{},a.cosyone_woocommerce_mod.other_products=function(){if(a(".other_products").length){var c=a(".other_products"),d=a(".products",c),e=c.data("columns")||3,f="no_sidebar"==c.data("sidebar")?3:2;d.owlCarousel({responsive:{0:{items:1},487:{items:f},992:{items:e}},nav:!0,navText:[],rtl:!!b.ISRTL})}},a.cosyone_woocommerce_mod.cart_dropdown=function(){({init:function(){var a=this;a.support={touch:Modernizr.touch,transitions:Modernizr.csstransitions},a.eventtype=a.support.touch?"touchstart":"click",a.listeners()},listeners:function(){var a=this;a.track_ajax_refresh_cart(a),a.track_ajax_adding_to_cart(),a.track_ajax_added_to_cart(a),a.eventQty()},track_ajax_refresh_cart:function(b){a.ajax({type:"POST",dataType:"json",url:cosyone_global.ajaxurl,data:{action:"refresh_cart_fragment"},success:function(c){b.update_cart_fragment(c.fragments),a("body").trigger("wc_fragments_loaded")}}),a("body").on("wc_fragments_refreshed wc_fragments_loaded",function(a){b.ajax_remove_cart_item(b)})},track_ajax_adding_to_cart:function(){a("body").on("adding_to_cart",function(a,b){b.block({message:null,overlayCSS:{background:"#fff url("+cosyone_global.ajax_loader_url+") no-repeat center",backgroundSize:"16px 16px",opacity:.6}})})},track_ajax_added_to_cart:function(b){a("body").on("added_to_cart",function(a,c,d,e){e.unblock().hide(),b.update_count_and_subtotal(c),b.update_cart_dropdown.call(b,a)})},update_count_and_subtotal:function(b){a("#open_shopping_cart").attr("data-amount",b.count).children("b.total_price").html(b.subtotal),a("#open_shopping_cart sup").html(b.count)},update_cart_dropdown:function(a){this.ajax_remove_cart_item(this)},update_cart_fragment:function(b){b&&a.each(b,function(b,c){a(b).replaceWith(c)})},ajax_remove_cart_item:function(b){a(".shopping_cart .remove-clothes").on(b.eventtype,function(c){c.preventDefault();var d=a(this),e=d.data("cart_id");d.data("product_id");a.ajax({type:"POST",dataType:"json",url:cosyone_global.ajaxurl,data:{action:"cart_item_remove",_wpnonce:woocommerce_mod.nonce_cart_item_remove,cart_id:e},success:function(c){var e=c.fragments;e&&d.parent().animate({opacity:0},function(){var c=a(this),d=c.add(c.parent());d.slideUp(350,function(){c.remove(),b.update_count_and_subtotal(e),b.update_cart_fragment(e),a("body").trigger("wc_fragments_refreshed")})})}})})},eventQty:function(){a(document).on("click",".plus, .minus",function(){var b=a(this).closest(".qty").find(".input-text"),c=parseFloat(b.val()),d=parseFloat(b.attr("max")),e=parseFloat(b.attr("min")),f=b.attr("step");c&&""!==c&&"NaN"!==c||(c=0),""!==d&&"NaN"!==d||(d=""),""!==e&&"NaN"!==e||(e=0),"any"!==f&&""!==f&&void 0!==f&&"NaN"!==parseFloat(f)||(f=1),a(this).is(".plus")?d&&(d==c||c>d)?b.val(d):b.val(c+parseFloat(f)):e&&(e==c||c<e)?b.val(e):c>0&&b.val(c-parseFloat(f)),b.trigger("change")})}}).init()},a.cosyone_woocommerce_mod.set_custom_scroll_bar=function(){var b=a(".custom-scrollbar");b.length&&b.is(":visible")&&b.scrollbar()},a.cosyone_woocommerce_mod.raty=function(){a(".rating").length&&(a(".rating.readonly-rating").raty({readOnly:!0,starType:"i",score:function(){return a(this).attr("data-score")}}),a(".rating.rate").raty({starType:"i",score:function(){return a(this).attr("data-score")}}))},a.cosyone_woocommerce_mod.zoom=function(){if(a("body.single-clothes").length){if(a("[data-zoom-image]").length){var b=function(){var b=[],c="product_preview";return a("."+c+" a").each(function(){var c="";a(this).data("zoom-image")?c=a(this).data("zoom-image"):a(this).data("image")&&(c=a(this).data("image")),c&&b.push({href:""+c,title:a(this).find("img").attr("title")})}),b},c=a(".image_preview_container");c.each(function(){var b=a(this),d=c.data("id");a("#img_zoom",b).length&&a("#img_zoom",b).elevateZoom({zoomType:"inner",gallery:"thumbnails_"+d,galleryActiveClass:"active",cursor:"crosshair",responsive:!0,easing:!0,zoomWindowFadeIn:500,zoomWindowFadeOut:500,lensFadeIn:500,lensFadeOut:500})})}a(".open_qv").length&&a(".open_qv").on("click",function(c){c.preventDefault();var d,e=[];if(a("#img_zoom").length){var f=a(this),g=f.prev("img").data("elevateZoom");d=g.getGalleryList()}else d=b();if(a.each(d,function(a,b){var c={};c.src=b.href,c.type="image",e.push(c)}),0==e.length){var h={};h.src=a(this).attr("href"),h.type="image",e.push(h)}a.magnificPopup.open({items:e,type:"image",mainClass:"mfp-fade-in",removalDelay:300,closeBtnInside:!0,closeOnContentClick:!0,midClick:!0,fixedContentPos:!1,gallery:{tCounter:"%curr% / %total%",enabled:!0,preload:[1,1]},callbacks:{open:function(){var b=this;a.magnificPopup.instance.next=function(){b.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){a.magnificPopup.proto.next.call(b)},80)},a.magnificPopup.instance.prev=function(){b.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){a.magnificPopup.proto.prev.call(b)},80)}},imageLoadComplete:function(){var a=this;setTimeout(function(){a.wrap.addClass("mfp-image-loaded")},15)}}})})}},a.cosyone_woocommerce_mod.specials_carousel=function(){var c=a(".widget-specials-carousel");c.length&&c.each(function(){var c=a(this),d=a("div.products",c),e=d.owlCarousel({responsive:{0:{items:1},480:{items:2},768:{items:1},992:{items:1}},autoHeight:!0,loop:!0,nav:!0,navText:[],themeClass:"single_visible_element",rtl:!!b.ISRTL});e.off("change.owl.carousel")})},a.cosyone_woocommerce_mod.product_filter_styles=function(){var c=a(".products-container.view-grid").not(".widget-specials-carousel");c.length&&c.each(function(){var c=a(this),d=a("div.products",c),e=c.data("columns")||3,f="no_sidebar"==c.data("sidebar")?3:2;if(c.hasClass("owl_carousel"))d.on("initialized.owl.carousel resized.owl.carousel",a.cosyone_core_helpers.sameheight).on("initialized.owl.carousel translated.owl.carousel",a.cosyone_core_helpers.owlGetVisibleElements),d.owlCarousel({stagePadding:15,margin:30,responsive:{0:{items:1},320:{items:2},480:{items:f},992:{items:e}},nav:!0,navText:[],rtl:!!b.ISRTL,onInitialized:function(){var b=this,d=b.$element,e={},f=a(".clothes-filter",c);a.each(b._items,function(a,b){e[a]=b.children()}),f.on("click","li",function(b){var c=a(this),f=c.children().data("filter");b.preventDefault(),c.is(".active")||(d.addClass("changed").animate({opacity:0},200,function(){var b="";"*"==f?a.each(e,function(a,c){b+=c.parent().html()}):a.each(e,function(c,d){var e=a(d);e.hasClass(f)&&(b+=d.parent().html())}),""!=b.length&&d.on("initialized.owl.carousel resized.owl.carousel refresh.owl.carousel",a.cosyone_core_helpers.sameheight).on("initialized.owl.carousel translated.owl.carousel refresh.owl.carousel",a.cosyone_core_helpers.owlGetVisibleElements).trigger("replace.owl.carousel",b).trigger("refresh.owl.carousel").removeClass("changed").animate({opacity:1},200)}),c.closest("li").addClass("active").siblings().removeClass("active"))})}});else{var g=d,h={},i=a(".clothes-filter",c);a.each(g.children(),function(b,c){h[b]=a(c)}),i.on("click","li",function(){var b=a(this),c=b.children().data("filter");b.is(".active")||(g.addClass("changed").animate({opacity:0},200,function(){var b="";"*"==c?a.each(h,function(a,c){b+=c.parent().html()}):a.each(h,function(d,e){var f=a(e);if(f.hasClass(c)){var g=f.wrap("<div></div>");b+=g.parent().html()}}),g.html(b).removeClass("changed").animate({opacity:1},200)}),b.closest("li").addClass("active").siblings().removeClass("active"))})}})},a.cosyone_woocommerce_mod.related_carousel=function(){if(a(".related_products").length){var c=a(".related_products"),d=a(".products",c),e=c.data("columns")||4,f="no_sidebar"==c.data("sidebar")?3:2;d.owlCarousel({stagePadding:15,margin:30,responsive:{0:{items:1},480:{items:f},992:{items:e}},nav:!0,navText:[],rtl:!!b.ISRTL})}},a.changeView=function(b){this.options=a.extend({},a.changeView.DEFAULTS,b),this.init()},a.changeView.DEFAULTS={},a.changeView.prototype={init:function(){var b=this;b.body=a("body"),b.support={touch:Modernizr.touch},b.view=a(".list-or-grid"),b.view.eventtype=b.support.touch?"touchstart":"click",b.event()},event:function(){this.view.on(this.view.eventtype,"a",a.proxy(function(a){this.load(a)},this))},load:function(b){b.preventDefault();var c=a(b.currentTarget),d=c.data("view"),e=c.closest(".products-container");c.siblings().removeClass("active").end().addClass("active"),e.removeClass("view-grid list_view_products").addClass(d),a.cookie("mad_shop_view",d)}},a.cosyone_woocommerce_mod.goto_review=function(){a(".woocommerce-review-link, .woocommerce-write-review-link").on("click",function(b){var c=a(this),d=c.attr("href"),e=a(this.hash);e.length&&("#reviews"!=d&&"#commentform"!=d||(b.preventDefault(),a(".tabs_nav li.reviews_tab a").trigger("click"),setTimeout(function(){a("html, body").stop().animate({scrollTop:e.offset().top},600)},50)))});var c=b.location.hash;"#commentform"!=c&&"#reviews"!=c&&c.indexOf("#comment-")==-1||setTimeout(function(){var b=a(c);b.length&&("#reviews"!=c&&"#commentform"!=c||a(".tabs_nav li.reviews_tab a").trigger("click"))},200)},a.cosyone_woocommerce_mod.product_preview=function(){var b=a(".thumbnails_container[data-output]");b.length&&b.each(function(b,c){var d=a(c),e=a(d.data("output"));d.find("[data-image]:first").addClass("active"),d.on("click",".elzoom",function(b){b.preventDefault();var c=a(this);if(!c.hasClass("active")){c.parents(".owl-carousel").find("a").removeClass("active"),c.addClass("active");var d=a(this).data("image");e.length&&e.children("img").stop().animate({opacity:0},250,function(){a(this).attr("src",d).stop().animate({opacity:1})})}})})},a.cosyone_woocommerce_mod.products_owl=function(){a(".section_single_product .owl-carousel").each(function(){var b=a(this),c=b.data("owl-carousel-options")?b.data("owl-carousel-options"):{},d=b.data("nav"),e=a.extend(c,{dragEndSpeed:500,smartSpeed:500}),f=b.owlCarousel(e);a("."+d+"prev").on("click",function(){f.trigger("prev.owl.carousel")}),a("."+d+"next").on("click",function(){f.trigger("next.owl.carousel")})})},a.cosyone_woocommerce_mod.check_cart_variation=function(){return"undefined"!=typeof wc_add_to_cart_variation_params&&(a(".variations_form").wc_variation_form(),void a(".variations_form .variations select").change())},a.cosyone_woocommerce_mod.quick_view=function(){a(".quick-view").length&&new a.cosyone_popup_prepare(".quick-view",{actionpopup:woocommerce_mod.action_quick_view,noncepopup:woocommerce_mod.nonce_quick_view_popup,on_load:function(){a.cosyone_woocommerce_mod.check_cart_variation(),a.cosyone_woocommerce_mod.products_owl(),a.cosyone_woocommerce_mod.raty(),a.cosyone_woocommerce_mod.product_preview(),a.cosyone_woocommerce_mod.set_custom_scroll_bar()}})},a(b).load(function(){a.cosyone_woocommerce_mod.product_filter_styles(),a.cosyone_woocommerce_mod.related_carousel(),a.cosyone_woocommerce_mod.specials_carousel()}),a(function(){a.cosyone_woocommerce_mod.cart_dropdown(),a.cosyone_woocommerce_mod.quick_view(),a.cosyone_woocommerce_mod.zoom(),a.cosyone_woocommerce_mod.raty(),a(".list-or-grid").length&&new a.changeView,a.cosyone_woocommerce_mod.product_preview(),a.cosyone_woocommerce_mod.goto_review()})}(jQuery,window);